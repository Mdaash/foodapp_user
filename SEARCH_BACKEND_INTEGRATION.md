# ุฏููู ุฑุจุท ุงูุจุญุซ ุจุงูุจุงู ุฅูุฏ

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุชุทููุฑ ูุธุงู ุจุญุซ ูุชุทูุฑ ูุฏุนู ุงูุจุญุซ ุงููุญูู ูุงูุจุญุซ ูู ุงูุจุงู ุฅูุฏ ูุน ุชุญุณููุงุช ุงูุฃุฏุงุก.

## ุงููููุงุช ุงููุญุฏุซุฉ

### 1. SearchService (`lib/services/search_service.dart`)
ุฎุฏูุฉ ุดุงููุฉ ููุจุญุซ ุชุชุถูู:
- ุงูุจุญุซ ูุน debouncing ูุชุญุณูู ุงูุฃุฏุงุก
- ูุธุงู cache ูููุชุงุฆุฌ
- ุฏุนู ุงูุจุญุซ ุจุงููุบุฉ ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
- ุฅุญุตุงุฆูุงุช ุงูุจุญุซ
- ุงูุชุฑุงุญุงุช ุงูุจุญุซ ุงูุชููุงุฆู

### 2. SearchScreen ุงููุญุฏุซุฉ
- ูุงุฌูุฉ ูุณุชุฎุฏู ุนุฑุจูุฉ ุจุงููุงูู ูุน `Directionality.rtl`
- ุจุญุซ ููุฑู ูุญูู + ุจุญุซ ูุชูุฏู ูู ุงูุจุงู ุฅูุฏ
- ูุคุดุฑุงุช ุชุญููู ุฐููุฉ
- ุฏุนู ุงูุจุญุซ ุงูุฌุฒุฆู ูุงูุชุทุจูุน ูููุต ุงูุนุฑุจู

## ููููุฉ ุฑุจุท ุงูุจุงู ุฅูุฏ

### 1. ุชุญุฏูุซ URL ุงูุจุงู ุฅูุฏ
ูู ููู `lib/services/search_service.dart`:
```dart
static const String baseUrl = 'https://your-api-domain.com/api';
```
ุงุณุชุจุฏู `your-api-domain.com` ุจุงูุฏูููู ุงูุฎุงุต ุจู.

### 2. API Endpoints ุงููุทููุจุฉ

#### ุฃ. ุงูุจุญุซ ูู ุงููุชุงุฌุฑ
```
GET /api/search/stores
```
**ุงููุนุงููุงุช:**
- `q`: ูุต ุงูุจุญุซ (ูุทููุจ)
- `lang`: ุงููุบุฉ (ุงูุชุฑุงุถู: ar)
- `category`: ูุฆุฉ ุงููุชุฌุฑ (ุงุฎุชูุงุฑู)
- `lat`: ุฎุท ุงูุนุฑุถ (ุงุฎุชูุงุฑู)
- `lng`: ุฎุท ุงูุทูู (ุงุฎุชูุงุฑู)
- `radius`: ูุทุงู ุงูุจุญุซ ุจุงููููููุชุฑ (ุงุฎุชูุงุฑู)

**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "stores": [
    {
      "id": "store_id",
      "name": "ุงุณู ุงููุชุฌุฑ",
      "category": "ูุฆุฉ ุงููุชุฌุฑ",
      "image": "url_ููุตูุฑุฉ",
      "logoUrl": "url_ููุดุนุงุฑ",
      "rating": "4.5",
      "reviews": "100+",
      "distance": "2.5 km",
      "time": "25 min",
      "fee": "0$",
      "promo": "ุนุฑุถ ุฎุงุต",
      "isOpen": true,
      "address": "ุงูุนููุงู"
    }
  ]
}
```

#### ุจ. ุงูุจุญุซ ุงูุดุงุฆุน
```
GET /api/search/popular
```
**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "popular_searches": [
    "ุจุฑุฌุฑ",
    "ุจูุชุฒุง",
    "ุฏุฌุงุฌ ูููู"
  ]
}
```

#### ุฌ. ุงูุชุฑุงุญุงุช ุงูุจุญุซ
```
GET /api/search/suggestions?q={query}
```
**ุงูุงุณุชุฌุงุจุฉ:**
```json
{
  "suggestions": [
    "ุจุฑุฌุฑ ูููุฌ",
    "ุจุฑุฌุฑ ูุงูุณ",
    "ุจุฑุฌุฑ ูุงููุฌ"
  ]
}
```

#### ุฏ. ุฅุญุตุงุฆูุงุช ุงูุจุญุซ
```
POST /api/search/analytics
```
**ุงูุจูุงูุงุช ุงููุฑุณูุฉ:**
```json
{
  "query": "ูุต ุงูุจุญุซ",
  "results_count": 5,
  "timestamp": "2023-12-01T10:30:00Z"
}
```

### 3. ุฅุนุฏุงุฏ Headers

```dart
final headers = {
  'Content-Type': 'application/json',
  'Accept': 'application/json',
  'Accept-Language': 'ar',
  // ูููู ุฅุถุงูุฉ authentication headers
  // 'Authorization': 'Bearer $token',
};
```

### 4. ุฅุฏุงุฑุฉ ุงูุฃุฎุทุงุก

```dart
try {
  final response = await http.get(uri, headers: headers);
  
  if (response.statusCode == 200) {
    final data = json.decode(response.body);
    return processData(data);
  } else if (response.statusCode == 429) {
    // Rate limiting
    throw Exception('ุชู ุชุฌุงูุฒ ุงูุญุฏ ุงููุณููุญ ููุทูุจุงุช');
  } else {
    throw Exception('ุฎุทุฃ ูู ุงูุฎุงุฏู: ${response.statusCode}');
  }
} on SocketException {
  throw Exception('ูุง ููุฌุฏ ุงุชุตุงู ุจุงูุฅูุชุฑูุช');
} on TimeoutException {
  throw Exception('ุงูุชูุช ูููุฉ ุงูุงุชุตุงู');
} catch (e) {
  throw Exception('ุฎุทุฃ ุบูุฑ ูุชููุน: $e');
}
```

## ุงูููุฒุงุช ุงููุทุจูุฉ

### โ ุชู ุงูุฅูุฌุงุฒ
- [x] ุงุชุฌุงู ุนุฑุจู ุตุญูุญ ูู ุดุงุดุฉ ุงูุจุญุซ
- [x] ุงูุจุญุซ ุงููุญูู ุงููุญุณูู ูุน ุชุทุจูุน ุงููุต ุงูุนุฑุจู
- [x] ุงูุจุญุซ ุงูุฌุฒุฆู ูููููุงุช
- [x] Debouncing ูุชุญุณูู ุงูุฃุฏุงุก
- [x] ูุธุงู Cache ูููุชุงุฆุฌ
- [x] ูุคุดุฑุงุช ุงูุชุญููู ุงูุฐููุฉ
- [x] ุฏูุฌ ุงููุชุงุฆุฌ ุงููุญููุฉ ูุน ุงูุจุงู ุฅูุฏ
- [x] ุฅุญุตุงุฆูุงุช ุงูุจุญุซ
- [x] ุงูุจุญุซ ุงูุดุงุฆุน ูู ุงูุจุงู ุฅูุฏ

### ๐ ููุฏ ุงูุชุทููุฑ
- [ ] Authentication ู Authorization
- [ ] ุงูุจุญุซ ุงูุฌุบุฑุงูู (Location-based)
- [ ] ููุชุฑุฉ ูุชูุฏูุฉ
- [ ] ุงูุชุฎุฒูู ุงููุคูุช ุงูุฐูู

## ููููุฉ ุงูุงุฎุชุจุงุฑ

### 1. ุงุฎุชุจุงุฑ ุงูุจุญุซ ุงููุญูู
- ูุนูู ููุฑุงู ูุน ุงููุชุงุฌุฑ ุงูููุฌูุฏุฉ ูู ุงูุชุทุจูู
- ูุฏุนู ุงูุจุญุซ ุงูุนุฑุจู ูุงูุฅูุฌููุฒู
- ุชุฑุชูุจ ุงููุชุงุฆุฌ ุญุณุจ ุงูุตูุฉ

### 2. ุงุฎุชุจุงุฑ ุฑุจุท ุงูุจุงู ุฅูุฏ
```bash
# ุงุฎุชุจุงุฑ API endpoints
curl -X GET "https://your-domain.com/api/search/stores?q=ุจุฑุฌุฑ" \
  -H "Accept-Language: ar"

curl -X GET "https://your-domain.com/api/search/popular" \
  -H "Accept-Language: ar"
```

### 3. ูุฑุงูุจุฉ ุงูุฃุฏุงุก
- ุชุญูู ูู Console logs ููุฃุฎุทุงุก
- ูุฑุงูุจุฉ ุฒูู ุงูุงุณุชุฌุงุจุฉ
- ุชุชุจุน ูุนุฏู ูุฌุงุญ ุงูุทูุจุงุช

## ุงููุชุทูุจุงุช

### Dependencies
```yaml
dependencies:
  http: ^1.1.0  # ููุทูุจุงุช HTTP
  
# ุชุฃูุฏ ูู ูุฌูุฏ ูุฐู ูู pubspec.yaml
```

### Permissions (Android)
```xml
<!-- android/app/src/main/AndroidManifest.xml -->
<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
```

### Permissions (iOS)
```xml
<!-- ios/Runner/Info.plist -->
<key>NSAppTransportSecurity</key>
<dict>
  <key>NSAllowsArbitraryLoads</key>
  <true/>
</dict>
```

## ูุตุงุฆุญ ููุชุทููุฑ

### 1. ุชุญุณูู ุงูุฃุฏุงุก
- ุงุณุชุฎุฏู Debouncing ูุน 500ms
- ูุนูู Cache ูููุชุงุฆุฌ ุงูุดุงุฆุนุฉ
- ุงุถุจุท timeout ุงูููุงุณุจ ููุทูุจุงุช

### 2. ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
- ุงุนุฑุถ ุงููุชุงุฆุฌ ุงููุญููุฉ ููุฑุงู
- ุฃุถู ูุคุดุฑุงุช ุชุญููู ูุงุถุญุฉ
- ููุฑ ุฑุณุงุฆู ุฎุทุฃ ูููุฏุฉ

### 3. ุงูุฃูุงู
- ุงุณุชุฎุฏู HTTPS ุฏุงุฆูุงู
- ูุนูู authentication ุฅุฐุง ูุฒู ุงูุฃูุฑ
- ุงุนูู rate limiting ูู ุฌุงูุจ ุงูุฎุงุฏู

## ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุงุณุชูุณุงุฑุงุชุ ูุฑุฌู ูุฑุงุฌุนุฉ:
- [ูุซุงุฆู Flutter HTTP](https://docs.flutter.dev/cookbook/networking/fetch-data)
- [ุฏููู ุงูุจุญุซ ุงูุฐูู](https://flutter.dev/docs/cookbook/networking/background-parsing)
